## 第 1 讲 预备知识  

1.1 本书讲什么  

1.2 如何使用本书   

1.2.1 组织方式  

1.2.2 代码  

1.2.3 面向的读者   

1.3 风格约定 

1.4 致谢和声明   

## 第 1 部分 数学基础    

## 第 2 讲 初识 SLAM   

2.1 引子：小萝卜的例子  

2.2 经典视觉 SLAM 框架   

2.2.1 视觉里程计   

2.2.2 后端优化   

2.2.3 回环检测  

2.2.4 建图  

2.3 SLAM 问题的数学表述   

2.4 实践：编程基础   

2.4.1 安装 Linux 操作系统  

2.4.2 Hello SLAM  

2.4.3 使用 cmake   

2.4.4 使用库  

2.4.5 使用 IDE  

## 第 3 讲 三维空间刚体运动     

3.1 旋转矩阵   

3.1.1 点、向量和坐标系  

3.1.2 坐标系间的欧氏变换    

3.1.3 变换矩阵与齐次坐标   

3.2 实践：Eigen   

3.3 旋转向量和欧拉角  

3.3.1 旋转向量  

3.3.2 欧拉角  

3.4 四元数   

3.4.1 四元数的定义   

3.4.2 四元数的运算   

3.4.3 用四元数表示旋转   

3.4.4 四元数到其他旋转表示的转换  

3.5 * 相似、仿射、射影变换  

3.6 实践：Eigen 几何模块   

3.6.1 Eigen 几何模块的数据演示  

3.6.2 实际的坐标变换例子   

3.7 可视化演示  

3.7.1 显示运动轨迹   

3.7.2 显示相机的位姿  

## 第 4 讲 李群与李代数    

4.1 李群与李代数基础   

4.1.1 群   

4.1.2 李代数的引出   

4.1.3 李代数的定义  

4.1.4 李代数 so(3)  

4.1.5 李代数 se(3)   

4.2 指数与对数映射   

4.2.1 SO(3) 上的指数映射  

4.2.2 SE(3) 上的指数映射   

4.3 李代数求导与扰动模型   

4.3.1 BCH 公式与近似形式  

4.3.2 SO(3) 上的李代数求导   

4.3.3 李代数求导  

4.3.4 扰动模型（左乘） 

4.3.5 SE(3) 上的李代数求导  

4.4 实践：Sophus  

4.4.1 Sophus 的基本使用方法   

4.4.2 例子：评估轨迹的误差  

4.5 * 相似变换群与李代数   

4.6 小结  

## 第 5 讲 相机与图像  

5.1 相机模型  

5.1.1 针孔相机模型  

5.1.2 畸变模型 

5.1.3 双目相机模型  

5.1.4 RGB-D 相机模型 

5.2 图像 

5.3 实践：计算机中的图像 

5.3.1 OpenCV 的基本使用方法 

5.3.2 图像去畸变  

5.4 实践：3D 视觉  

5.4.1 双目视觉  

5.4.2 RGB-D 视觉   

## 第 6 讲 非线性优化 

6.1 状态估计问题  

6.1.1 批量状态估计与最大后验估计 

6.1.2 最小二乘的引出  

6.1.3 例子：批量状态估计  

6.2 非线性最小二乘  

6.2.1 一阶和二阶梯度法  

6.2.2 高斯牛顿法  

6.2.3 列文伯格—马夸尔特方法

6.3 实践：曲线拟合问题   

6.3.1 手写高斯牛顿法  

6.3.2 使用 Ceres 进行曲线拟合  

6.3.3 使用 g2o 进行曲线拟合 

6.4 小结  

## 第 2 部分 实践应用  

## 第 7 讲 视觉里程计 1   

7.1 特征点法  

7.1.1 特征点  

7.1.2 ORB 特征  

7.1.3 特征匹配 

7.2 实践：特征提取和匹配  

7.2.1 OpenCV 的 ORB 特征  

7.2.2 手写 ORB 特征  

7.2.3 计算相机运动   

7.3 2D-2D：对极几何 

7.3.1 对极约束 

7.3.2 本质矩阵 

7.3.3 单应矩阵 

7.4 实践：对极约束求解相机运动 

7.5 三角测量 

7.6 实践：三角测量 

7.6.1 三角测量代码   

7.6.2 讨论 

7.7 3D 2D：PnP  

7.7.1 直接线性变换   

7.7.2 P3P   

7.7.3 最小化重投影误差求解 PnP  

7.8 实践：求解 PnP  

7.8.1 使用 EPnP 求解位姿  

7.8.2 手写位姿估计   

7.8.3 使用 g2o 进行 BA 优化 

7.9 3D-3D：ICP  

7.9.1 SVD 方法  

7.9.2 非线性优化方法  

7.10 实践：求解 ICP  

7.10.1 实践：SVD 方法  

7.10.2 实践：非线性优化方法  

7.11 小结  

## 第 8 讲 视觉里程计 2   

8.1 直接法的引出  

8.2 2D 光流  

8.3 实践：LK 光流  

8.3.1 使用 LK 光流  

8.3.2 用高斯牛顿法实现光流 

8.3.3 光流实践小结   

8.4 直接法   

8.4.1 直接法的推导   

8.4.2 直接法的讨论   

8.5 实践：直接法  

8.5.1 单层直接法  

8.5.2 多层直接法 

8.5.3 结果讨论 

8.5.4 直接法优缺点总结  

## 第 9 讲 后端 1  

9.1 概述  

9.1.1 状态估计的概率解释  

9.1.2 线性系统和 KF  

9.1.3 非线性系统和 EKF 

9.1.4 EKF 的讨论   

9.2 BA 与图优化  

9.2.1 投影模型和 BA 代价函数 

9.2.2 BA 的求解  

9.2.3 稀疏性和边缘化  

9.2.4 鲁棒核函数 

9.3 实践：Ceres BA   

9.3.1 BAL 数据集  

9.3.2 Ceres BA 的书写  

9.4 实践：g2o 求解 BA   

9.5 小结  

## 第 10 讲 后端 2   

10.1 滑动窗口滤波和优化   

10.1.1 实际环境下的 BA 结构 

10.1.2 滑动窗口法 

10.2 位姿图   

10.2.1 位姿图的意义   

10.2.2 位姿图的优化   

10.3 实践：位姿图优化  

10.3.1 g2o 原生位姿图  

10.3.2 李代数上的位姿图优化 

10.3.3 小结  

## 第 11 讲 回环检测   

11.1 概述  

11.1.1 回环检测的意义  

11.1.2 回环检测的方法  

11.1.3 准确率和召回率  

11.2 词袋模型 

11.3 字典  

11.3.1 字典的结构 

11.3.2 实践：创建字典  

11.4 相似度计算 

11.4.1 理论部分  

11.4.2 实践：相似度的计算  

11.5 实验分析与评述 

11.5.1 增加字典规模  

11.5.2 相似性评分的处理  

11.5.3 关键帧的处理  

11.5.4 检测之后的验证 

11.5.5 与机器学习的关系  

## 第 12 讲 建图  

12.1 概述 

12.2 单目稠密重建 

12.2.1 立体视觉 

12.2.2 极线搜索与块匹配 

12.2.3 高斯分布的深度滤波器 

12.3 实践：单目稠密重建   

12.3.1 实验分析与讨论  

12.3.2 像素梯度的问题 

12.3.3 逆深度 

12.3.4 图像间的变换  

12.3.5 并行化：效率的问题  

12.3.6 其他的改进  

12.4 RGB-D 稠密建图  

12.4.1 实践：点云地图 

12.4.2 从点云重建网格 

12.4.3 八叉树地图 

12.4.4 实践：八叉树地图 

12.5 * TSDF 地图和 Fusion 系列  

12.6 小结 

## 第 13 讲 实践：设计 SLAM 系统  

13.1 为什么要单独列工程章节  

13.2 工程框架 

13.3 实现 

13.3.1 实现基本数据结构 

13.3.2 前端 

13.3.3 后端 

13.4 实验效果  

## 第 14 讲 SLAM：现在与未来 

14.1 当前的开源方案 

14.1.1 MonoSLAM 

14.1.2 PTAM 

14.1.3 ORB-SLAM   

14.1.4 LSD-SLAM 

14.1.5 SVO  

14.1.6 RTAB-MAP 

14.1.7 其他 

14.2 未来的 SLAM 话题  

14.2.1 视觉 惯性导航 SLAM  

14.2.2 语义 SLAM  

14.2.3 SLAM 的未来 

附录 A 高斯分布的性质  

附录 B 矩阵求导  

附录 C ROS 入门 

参考文献  
